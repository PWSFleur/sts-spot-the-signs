<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>STS — Spot The Signs</title>
  <style>
    :root{
      --bg:#0b1220;
      --card:#111a2e;
      --card2:#0f172a;
      --text:#e6e9f2;
      --muted:#aab3c7;
      --border:rgba(255,255,255,.12);
      --btn:#1f6feb;
      --btn2:#223055;
      --danger:#ff6b6b;
      --ok:#7ee787;
      --warn:#ffd37a;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1000px 600px at 20% 0%, rgba(31,111,235,.25), transparent 55%),
                  radial-gradient(900px 600px at 80% 20%, rgba(255,211,122,.18), transparent 60%),
                  var(--bg);
      color:var(--text);
      line-height:1.5;
    }
    .wrap{max-width:980px;margin:0 auto;padding:18px}
    header{
      display:flex; gap:12px; align-items:flex-start; justify-content:space-between;
      padding:16px 14px; border:1px solid var(--border); border-radius:16px;
      background:rgba(17,26,46,.75); backdrop-filter: blur(10px);
    }
    h1{margin:0;font-size:20px}
    .sub{margin:6px 0 0;color:var(--muted); font-size:14px}
    .grid{display:grid; gap:14px; margin-top:14px}
    @media(min-width:900px){ .grid{grid-template-columns: 340px 1fr} }

    .card{
      border:1px solid var(--border);
      border-radius:16px;
      background:rgba(17,26,46,.72);
      backdrop-filter: blur(10px);
      padding:14px;
    }
    .card h2{margin:0 0 8px; font-size:16px}
    .note{
      background:rgba(15,23,42,.7);
      border:1px solid var(--border);
      border-radius:12px;
      padding:10px;
      color:var(--muted);
      font-size:14px;
    }
    .note strong{color:var(--text)}
    .actions{display:grid; gap:10px; margin-top:12px}
    .btn{
      appearance:none; border:1px solid var(--border);
      background:var(--btn2); color:var(--text);
      padding:12px 14px; border-radius:14px;
      font-weight:650; font-size:15px;
      text-align:left; cursor:pointer;
      transition: transform .06s ease, background .15s ease, border-color .15s ease;
      width:100%;
    }
    .btn:hover{border-color:rgba(255,255,255,.22)}
    .btn:active{transform: translateY(1px)}
    .btn.primary{background:linear-gradient(180deg, rgba(31,111,235,.95), rgba(31,111,235,.70)); border-color:rgba(31,111,235,.7)}
    .btn.ghost{background:transparent}
    .btn:disabled{opacity:.55; cursor:not-allowed}

    .pillrow{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px; border-radius:999px;
      border:1px solid var(--border);
      background:rgba(15,23,42,.65);
      color:var(--muted); font-size:13px;
    }
    .dot{width:8px;height:8px;border-radius:99px;background:var(--muted)}
    .dot.ok{background:var(--ok)}
    .dot.warn{background:var(--warn)}
    .dot.danger{background:var(--danger)}

    .qhead{
      display:flex; flex-wrap:wrap; gap:10px; align-items:center; justify-content:space-between;
      margin-bottom:8px;
    }
    .qmeta{color:var(--muted); font-size:13px}
    .divider{height:1px;background:var(--border);margin:12px 0}
    .questions{display:grid; gap:10px}
    .q{
      border:1px solid var(--border);
      border-radius:14px;
      background:rgba(15,23,42,.6);
      padding:12px;
    }
    .qcat{color:var(--muted); font-size:12px; margin-bottom:6px}
    .qtext{margin:0 0 10px; font-size:14px}
    .yn{
      display:flex; gap:10px; flex-wrap:wrap;
    }
    .choice{
      flex:1 1 120px;
      border:1px solid var(--border);
      background:rgba(17,26,46,.55);
      border-radius:12px;
      padding:10px 12px;
      display:flex; align-items:center; gap:10px;
      cursor:pointer;
      user-select:none;
      min-height:44px;
    }
    .choice input{width:18px;height:18px}
    .small{font-size:13px; color:var(--muted)}
    .hidden{display:none !important}

    .resultBox{
      border:1px solid var(--border);
      border-radius:16px;
      background:rgba(15,23,42,.65);
      padding:12px;
    }
    .resultTitle{margin:0 0 6px; font-size:16px}
    .resultLine{margin:0 0 10px; color:var(--muted)}
    .resultTag{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px; border-radius:999px;
      border:1px solid var(--border);
      background:rgba(17,26,46,.6);
      font-weight:650;
    }
    a{color:#9ecbff}
    a:hover{text-decoration:underline}
    footer{margin-top:18px;color:var(--muted);font-size:12px}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>STS — Spot The Signs</h1>
        <p class="sub">Een korte vragenlijst om signalen te herkennen. Geen diagnose.</p>
      </div>
      <button id="resetBtn" class="btn ghost" type="button">Opnieuw starten</button>
    </header>

    <div class="grid">
      <!-- LEFT: start / info -->
      <aside class="card" id="startCard">
        <h2>Begin</h2>
        <div class="note">
          <strong>Belangrijk:</strong> deze vragenlijst is geen diagnose. Het helpt alleen om signalen te herkennen.
          Als meerdere vragen met <strong>JA</strong> worden beantwoord, kan het een teken zijn dat je hulp of advies kunt gebruiken.
          <div class="divider"></div>
          <strong>Direct gevaar?</strong> Bel <strong>112</strong>.
          <br/>
          Voor advies of een melding: <a href="https://www.veiligthuis.nl/" target="_blank" rel="noopener">Veilig Thuis</a> (gratis: <strong>0800-2000</strong>). :contentReference[oaicite:0]{index=0}
        </div>

        <div class="actions">
          <button class="btn primary" id="btnVictim" type="button">
            Ik maak me zorgen over zijn/haar gedrag (slachtoffer / zorgen om partner)
          </button>
          <button class="btn" id="btnPerp" type="button">
            Ik maak me zorgen over mijn gedrag (zelfreflectie)
          </button>
        </div>

        <div class="pillrow" id="modePills" aria-hidden="true">
          <span class="pill"><span class="dot" id="pillDot"></span><span id="pillText">Kies een vragenlijst</span></span>
          <span class="pill"><span class="dot ok"></span><span><span id="answeredCount">0</span>/<span id="totalCount">0</span> beantwoord</span></span>
          <span class="pill"><span class="dot warn"></span><span>JA: <span id="yesCount">0</span></span></span>
        </div>

        <div class="actions" style="margin-top:12px">
          <button class="btn primary" id="showResultBtn" type="button" disabled>
            Bekijk conclusie
          </button>
          <button class="btn" id="clearAnswersBtn" type="button" disabled>
            Wis antwoorden
          </button>
        </div>
      </aside>

      <!-- RIGHT: questions / result -->
      <main class="card">
        <div id="introText" class="">
          <h2>Vragen</h2>
          <p class="small">Kies links eerst welke vragenlijst je wilt gebruiken. Daarna beantwoord je de vragen met JA/NEE.</p>
        </div>

        <div id="questionArea" class="hidden">
          <div class="qhead">
            <div>
              <h2 id="listTitle" style="margin:0;font-size:16px"></h2>
              <div class="qmeta">Beantwoord onderstaande vragen met <strong>JA</strong> of <strong>NEE</strong>.</div>
            </div>
            <div class="qmeta" id="liveScore">JA: 0</div>
          </div>
          <div class="divider"></div>
          <div id="questions" class="questions"></div>
        </div>

        <div id="resultArea" class="hidden" style="margin-top:14px">
          <div class="resultBox">
            <h3 class="resultTitle">Conclusie</h3>
            <p class="resultLine" id="resultLine"></p>
            <div class="pillrow" style="margin-top:0">
              <span class="resultTag" id="resultTag"></span>
            </div>
            <div class="divider"></div>
            <div id="resultAdvice" class="small"></div>
            <div class="divider"></div>
            <div class="small">
              <strong>Hulp nodig?</strong> Bij direct gevaar: <strong>112</strong>.  
              Voor advies/melding: <a href="https://www.veiligthuis.nl/contact" target="_blank" rel="noopener">Veilig Thuis</a> (0800-2000). :contentReference[oaicite:1]{index=1}
            </div>
          </div>
        </div>

        <footer>
          Schoolproject — STS (Spot The Signs). Gebruik dit als startpunt en pas teksten gerust aan.
        </footer>
      </main>
    </div>
  </div>

  <script>
    // --- Data ---------------------------------------------------------
    const victimQuestions = [
      { cat: "Dwingende controle & intieme terreur", text: "Probeert je (ex-)partner te bepalen waar je bent, wat je doet of met wie je omgaat?" },
      { cat: "Dwingende controle & intieme terreur", text: "Moet je vaak verantwoorden waar je was of waarom je ergens was?" },
      { cat: "Dwingende controle & intieme terreur", text: "Vraagt je (ex-)partner herhaaldelijk om je locatie ‘om te checken of je loyaal bent’?" },
      { cat: "Dwingende controle & intieme terreur", text: "Wordt je (ex-)partner boos of angstig als je buiten zijn/haar zicht of controle bent?" },

      { cat: "Isolatie (vrienden & familie)", text: "Probeert jouw (ex-)partner je contact met familie of vrienden te verminderen?" },
      { cat: "Isolatie (vrienden & familie)", text: "Zegt jouw (ex-)partner dat jouw vrienden of familie slecht voor je zijn of negatief beïnvloeden?" },
      { cat: "Isolatie (vrienden & familie)", text: "Ben je minder sociaal geworden sinds jullie relatie?" },

      { cat: "Jaloezie & obsessie", text: "Is je partner extreem jaloers zonder duidelijke reden?" },
      { cat: "Jaloezie & obsessie", text: "Reageert hij/zij boos of gespannen als je aandacht aan anderen geeft?" },

      { cat: "Manipulatie & gaslighting", text: "Draait hij/zij situaties om zodat jij je schuldig voelt, ook als je niks verkeerd deed?" },
      { cat: "Manipulatie & gaslighting", text: "Twijfel je door hem/haar aan je eigen gevoel, gedachten of herinneringen?" },
      { cat: "Manipulatie & gaslighting", text: "Geeft hij/zij jou de schuld van zijn/haar woede, agressie of problemen?" },
      { cat: "Manipulatie & gaslighting", text: "Heb je het gevoel dat hij/zij je bewust manipuleert om je aan hem/haar te binden?" },

      { cat: "Chantage & dreiging", text: "Gebruikt hij/zij emotionele chantage om zijn/haar zin te krijgen?" },
      { cat: "Chantage & dreiging", text: "Dreigt hij/zij zichzelf, jou, anderen of (jullie) kinderen iets aan te doen als je bij hem/haar weggaat?" },
      { cat: "Chantage & dreiging", text: "Heb je ooit het gevoel gehad dat hij/zij gevaarlijker wordt als jij grenzen aangeeft?" },

      { cat: "Lovebombing & snelle binding", text: "Wilde hij/zij al heel vroeg in de relatie grote stappen (samenwonen, trouwen, kinderen)?" },
      { cat: "Lovebombing & snelle binding", text: "Voelde de relatie in het begin te snel?" },
      { cat: "Lovebombing & snelle binding", text: "Gebruikt hij/zij gedeelde verplichtingen (kinderen, huis, geld) om je bij hem/haar te houden?" },

      { cat: "Intimidatie, vernedering & angst", text: "Ben je bang voor zijn/haar reactie, zelfs bij kleine dingen?" },
      { cat: "Intimidatie, vernedering & angst", text: "Vernedert, kleineert of intimideert hij/zij je verbaal of fysiek?" },
      { cat: "Intimidatie, vernedering & angst", text: "Wordt zijn/haar boosheid in de loop van de tijd erger?" },

      { cat: "Privacy-inbreuk", text: "Checkt hij/zij jouw telefoon, berichten of accounts regelmatig zonder jouw toestemming?" },
      { cat: "Privacy-inbreuk", text: "Heb je het gevoel dat je geen eigen privacy, ruimte of autonomie meer hebt?" },
    ];

    const perpQuestions = [
      { cat: "Controle & grenzen van je partner", text: "Probeer je te bepalen waar je partner is, wat ze doet of met wie ze contact heeft?" },
      { cat: "Controle & grenzen van je partner", text: "Verwacht je dat zij altijd opneemt, terugbelt of antwoordt wanneer jij dat wilt?" },
      { cat: "Controle & grenzen van je partner", text: "Word je boos of onrustig als je niet weet waar ze is of met wie ze is?" },
      { cat: "Controle & grenzen van je partner", text: "Vraag je haar vaak om haar locatie te delen?" },

      { cat: "Jaloezie & bezit", text: "Voel je jaloezie als ze tijd doorbrengt met vrienden, familie of collega’s?" },
      { cat: "Jaloezie & bezit", text: "Denk je snel dat ze niet loyaal is, zelfs als daar geen bewijs voor is?" },
      { cat: "Jaloezie & bezit", text: "Heb je moeite als ze aandacht aan andere mensen geeft?" },

      { cat: "Manipulatie & emotionele druk", text: "Geef je haar het gevoel dat iets haar schuld is, ook als jij boos werd?" },
      { cat: "Manipulatie & emotionele druk", text: "Leg je problemen van de relatie vaak bij haar neer?" },
      { cat: "Manipulatie & emotionele druk", text: "Heb je haar wel eens verward of laten twijfelen aan zichzelf (gaslighting)?" },
      { cat: "Manipulatie & emotionele druk", text: "Maak je gebruik van schuldgevoelens om je zin te krijgen?" },

      { cat: "Intimidatie & boosheid", text: "Word je snel boos, agressief of intimiderend in discussies?" },
      { cat: "Intimidatie & boosheid", text: "Heb je ooit geschreeuwd, vernederd of bedreigd in een ruzie?" },
      { cat: "Intimidatie & boosheid", text: "Heb je dingen kapotgemaakt of gegooid om een punt te maken?" },
      { cat: "Intimidatie & boosheid", text: "Ben je bang dat je boosheid kan escaleren?" },

      { cat: "Isolatie", text: "Heb je haar afgeraden om met bepaalde mensen om te gaan?" },
      { cat: "Isolatie", text: "Vind je dat familie of vrienden haar negatief beïnvloeden?" },
      { cat: "Isolatie", text: "Heb je geprobeerd haar contact met anderen te beperken?" },

      { cat: "Lovebombing & snelle binding", text: "Heb je in het begin van de relatie snel grote stappen gezet (samenwonen, trouwen, kinderen)?" },
      { cat: "Lovebombing & snelle binding", text: "Had je hierbij de behoefte haar stevig aan je te binden?" },
      { cat: "Lovebombing & snelle binding", text: "Gebruik je gedeelde verplichtingen soms om haar bij je te houden?" },

      { cat: "Dreiging & chantage", text: "Heb je ooit gedreigd jezelf, haar of iemand anders iets aan te doen?" },
      { cat: "Dreiging & chantage", text: "Heb je woorden gebruikt als: ‘Als jij weggaat, dan…’?" },
      { cat: "Dreiging & chantage", text: "Heb je haar ooit bang gemaakt zodat ze zou doen wat jij wilde?" },

      { cat: "Privacy & controle", text: "Controleer je haar telefoon, berichten of accounts?" },
      { cat: "Privacy & controle", text: "Heb je ooit een wachtwoord gevraagd of afgedwongen?" },
      { cat: "Privacy & controle", text: "Vind je dat je het recht hebt om alles van haar te weten?" },
    ];

    // --- State --------------------------------------------------------
    let mode = null; // "victim" | "perp"
    let questions = [];
    let answers = []; // true/false/null

    // --- Elements -----------------------------------------------------
    const btnVictim = document.getElementById("btnVictim");
    const btnPerp = document.getElementById("btnPerp");
    const resetBtn = document.getElementById("resetBtn");
    const clearAnswersBtn = document.getElementById("clearAnswersBtn");
    const showResultBtn = document.getElementById("showResultBtn");

    const introText = document.getElementById("introText");
    const questionArea = document.getElementById("questionArea");
    const resultArea = document.getElementById("resultArea");

    const listTitle = document.getElementById("listTitle");
    const questionsEl = document.getElementById("questions");
    const liveScore = document.getElementById("liveScore");

    const modePills = document.getElementById("modePills");
    const pillDot = document.getElementById("pillDot");
    const pillText = document.getElementById("pillText");
    const answeredCount = document.getElementById("answeredCount");
    const totalCount = document.getElementById("totalCount");
    const yesCount = document.getElementById("yesCount");

    const resultLine = document.getElementById("resultLine");
    const resultTag = document.getElementById("resultTag");
    const resultAdvice = document.getElementById("resultAdvice");

    // --- Helpers ------------------------------------------------------
    function setMode(newMode){
      mode = newMode;
      resultArea.classList.add("hidden"); // hide result when switching
      if(mode === "victim"){
        questions = victimQuestions.slice();
        listTitle.textContent = "Vragenlijst — signalen in het gedrag van je (ex-)partner";
        pillText.textContent = "Vragenlijst: zorgen om ander";
      } else {
        questions = perpQuestions.slice();
        listTitle.textContent = "Vragenlijst — signalen dat jouw gedrag mogelijk schadelijk of controlerend is";
        pillText.textContent = "Vragenlijst: zorgen om eigen gedrag";
      }
      answers = Array(questions.length).fill(null);

      // UI
      introText.classList.add("hidden");
      questionArea.classList.remove("hidden");
      modePills.removeAttribute("aria-hidden");
      renderQuestions();
      updateCounters();

      // pill dot color
      pillDot.className = "dot ok";
      clearAnswersBtn.disabled = false;
      showResultBtn.disabled = true;
    }

    function renderQuestions(){
      questionsEl.innerHTML = "";
      totalCount.textContent = String(questions.length);

      questions.forEach((q, idx) => {
        const qDiv = document.createElement("div");
        qDiv.className = "q";

        const cat = document.createElement("div");
        cat.className = "qcat";
        cat.textContent = q.cat;

        const p = document.createElement("p");
        p.className = "qtext";
        p.textContent = `${idx+1}. ${q.text}`;

        const yn = document.createElement("div");
        yn.className = "yn";

        // radio group name unique per question
        const name = `q_${idx}`;

        const labelYes = document.createElement("label");
        labelYes.className = "choice";
        const yes = document.createElement("input");
        yes.type = "radio";
        yes.name = name;
        yes.value = "yes";
        yes.checked = answers[idx] === true;
        yes.addEventListener("change", () => {
          answers[idx] = true;
          updateCounters();
        });
        labelYes.appendChild(yes);
        labelYes.appendChild(document.createTextNode("JA"));

        const labelNo = document.createElement("label");
        labelNo.className = "choice";
        const no = document.createElement("input");
        no.type = "radio";
        no.name = name;
        no.value = "no";
        no.checked = answers[idx] === false;
        no.addEventListener("change", () => {
          answers[idx] = false;
          updateCounters();
        });
        labelNo.appendChild(no);
        labelNo.appendChild(document.createTextNode("NEE"));

        yn.appendChild(labelYes);
        yn.appendChild(labelNo);

        qDiv.appendChild(cat);
        qDiv.appendChild(p);
        qDiv.appendChild(yn);
        questionsEl.appendChild(qDiv);
      });
    }

    function updateCounters(){
      const answered = answers.filter(v => v !== null).length;
      const yes = answers.filter(v => v === true).length;

      answeredCount.textContent = String(answered);
      yesCount.textContent = String(yes);
      liveScore.textContent = `JA: ${yes}`;

      // enable result only when all answered
      showResultBtn.disabled = answered !== answers.length || answers.length === 0;
    }

    function scoreToBand(yes){
      if(yes <= 4) return { label: "Laag", dot: "ok" };
      if(yes <= 11) return { label: "Verhoogd risico", dot: "warn" };
      if(yes <= 17) return { label: "Hoog risico", dot: "danger" };
      return { label: "Acuut / zeer hoog risico", dot: "danger" };
    }

    function buildAdvice(yes){
      const band = scoreToBand(yes);

      if(mode === "victim"){
        if(yes <= 4){
          return `
            <strong>Wat betekent dit?</strong><br/>
            Deze score betekent dat er voorzichtigheid nodig is, maar er zijn op dit moment geen sterke patronen van dwingende controle.<br/><br/>
            <strong>Let op:</strong> één enkele rode vlag kan al schadelijk zijn. Neem signalen serieus.<br/><br/>
            <strong>Advies:</strong>
            <ul>
              <li>Let de komende periode op veranderingen of nieuwe signalen.</li>
              <li>Zoek steun bij iemand die je vertrouwt als je twijfelt.</li>
              <li>Kom bij twijfel vroeg in actie.</li>
            </ul>
          `;
        }
        if(yes <= 11){
          return `
            <strong>Wat betekent dit?</strong><br/>
            Dit wijst op meerdere signalen van manipulatie, psychische druk, controle of isolatie. Dit zijn ernstige patronen die vaak voorkomen vóór escalatie of geweld.<br/><br/>
            <strong>Advies:</strong>
            <ul>
              <li>Praat met een professional of ervaringsdeskundige.</li>
              <li>Verken wat je nodig hebt om weer grip te krijgen.</li>
              <li>Informeer jezelf over patronen van dwingende controle.</li>
            </ul>
          `;
        }
        if(yes <= 17){
          return `
            <strong>Wat betekent dit?</strong><br/>
            Hier is sprake van duidelijke patronen die sterk lijken op intieme terreur of dwingende controle. Dit risico kan in de loop van de tijd toenemen.<br/><br/>
            <strong>Advies:</strong>
            <ul>
              <li>Raadpleeg een professional voor persoonlijk advies.</li>
              <li>Neem contact op met organisaties die gespecialiseerd zijn in partnergeweld.</li>
              <li>Kijk naar een veiligheidsplan als je je onveilig voelt.</li>
            </ul>
          `;
        }
        return `
          <strong>Wat betekent dit?</strong><br/>
          Dit is een alarmerende score. De combinatie van controle, dreiging, isolatie en manipulatie is een ernstig gevaarssignaal.<br/><br/>
          <strong>Advies:</strong>
          <ul>
            <li>Zoek direct (desnoods anoniem) contact met een hulporganisatie.</li>
            <li>Deel je zorgen met iemand die je vertrouwt.</li>
            <li>Als er dreiging speelt: wacht niet.</li>
          </ul>
        `;
      } else {
        // perp/self-reflection
        if(yes <= 4){
          return `
            <strong>Wat betekent dit?</strong><br/>
            Dit kan wijzen op beginsignalen. Het is goed dat je dit opmerkt en serieus neemt.<br/><br/>
            <strong>Advies:</strong>
            <ul>
              <li>Sta stil bij situaties waarin je controle, jaloezie of druk voelt opkomen.</li>
              <li>Praat erover met iemand die je vertrouwt of een professional.</li>
              <li>Werk aan gezonde grenzen en communicatie.</li>
            </ul>
          `;
        }
        if(yes <= 11){
          return `
            <strong>Wat betekent dit?</strong><br/>
            Dit wijst op meerdere signalen van ongezonde controle, manipulatie of intimidatie. Dit zijn patronen die kunnen escaleren.<br/><br/>
            <strong>Advies:</strong>
            <ul>
              <li>Zoek (anoniem kan ook) hulp of coaching om gedragspatronen te doorbreken.</li>
              <li>Leer triggers herkennen en oefen met pauzeren/afkoelen bij boosheid.</li>
              <li>Neem verantwoordelijkheid: jouw gedrag is jouw keuze.</li>
            </ul>
          `;
        }
        if(yes <= 17){
          return `
            <strong>Wat betekent dit?</strong><br/>
            Er zijn sterke aanwijzingen voor schadelijke of controlerende patronen die gevaarlijk kunnen worden voor je partner en voor jou.<br/><br/>
            <strong>Advies:</strong>
            <ul>
              <li>Zoek zo snel mogelijk professionele hulp (agressieregulatie / gedragstherapie / hulpverlening).</li>
              <li>Maak een plan om escalatie te voorkomen (afstand nemen, time-out, hulp inschakelen).</li>
              <li>Als je bang bent dat je iemand iets aandoet: vraag direct hulp.</li>
            </ul>
          `;
        }
        return `
          <strong>Wat betekent dit?</strong><br/>
          Dit is een ernstig risicosignaal. Er is kans op gevaarlijke controlepatronen en escalatie.<br/><br/>
          <strong>Advies:</strong>
          <ul>
            <li>Zoek direct professionele hulp.</li>
            <li>Neem afstand als je merkt dat je gaat escaleren.</li>
            <li>Bij direct gevaar: bel 112.</li>
          </ul>
        `;
      }
    }

    function showResult(){
      const yes = answers.filter(v => v === true).length;
      const band = scoreToBand(yes);

      // Tag
      resultTag.innerHTML = `<span class="dot ${band.dot}"></span>${band.label}`;

      // Line
      resultLine.textContent = `Je hebt ${yes} van de ${answers.length} vragen met “JA” beantwoord.`;

      // Advice
      resultAdvice.innerHTML = buildAdvice(yes);

      // Show without forcing scroll
      resultArea.classList.remove("hidden");
    }

    function clearAnswers(){
      answers = Array(questions.length).fill(null);
      renderQuestions();
      updateCounters();
      resultArea.classList.add("hidden");
    }

    function resetAll(){
      mode = null;
      questions = [];
      answers = [];

      introText.classList.remove("hidden");
      questionArea.classList.add("hidden");
      resultArea.classList.add("hidden");

      modePills.setAttribute("aria-hidden", "true");
      pillDot.className = "dot";
      pillText.textContent = "Kies een vragenlijst";

      answeredCount.textContent = "0";
      totalCount.textContent = "0";
      yesCount.textContent = "0";
      liveScore.textContent = "JA: 0";

      clearAnswersBtn.disabled = true;
      showResultBtn.disabled = true;
      questionsEl.innerHTML = "";
    }

    // --- Events (NO scrolling, NO form submit) ------------------------
    btnVictim.addEventListener("click", () => setMode("victim"));
    btnPerp.addEventListener("click", () => setMode("perp"));
    showResultBtn.addEventListener("click", showResult);
    clearAnswersBtn.addEventListener("click", clearAnswers);
    resetBtn.addEventListener("click", resetAll);

    // Start state
    resetAll();
  </script>
</body>
</html>
